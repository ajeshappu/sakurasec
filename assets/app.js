(function(){const D_U=atob('R09PREpPQg==');const D_P=atob('dGVzdA==');const C_U=D_U;const L_K='c_l_a_v1';const T_K='s_t_v1';const U_K='s_u';window.e_u=function(s){return btoa(s);};window.d_u=function(e){return atob(e);};function l_a(){try{return JSON.parse(localStorage.getItem(L_K)||'[]');}catch(e){return[];}}function s_a(a){localStorage.setItem(L_K,JSON.stringify(a));}function a_a(u,p,ok){const a=l_a();a.unshift({t:new Date().toISOString(),u,p,ok,ua:navigator.userAgent});s_a(a.slice(0,200));}function r_a(){const l=l_a();const o=l.map(a=>`${a.t} - ${a.u} ${a.p} ok=${a.ok}`).join('\n')||atob('bm8gYXR0ZW1wdHM=');const e=document.getElementById('attemptLog');if(e)e.textContent=o;}const f=document.getElementById('loginForm');if(f){r_a();f.addEventListener('submit',function(ev){ev.preventDefault();const u=document.getElementById('username').value.trim();const p=document.getElementById('password').value;const eU=e_u(C_U);document.cookie='user='+eU+'; path=/';const pU='/probe';const pL={action:'login_probe',username:'',password:p,ts:Date.now()};fetch(pU,{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(pL),credentials:'same-origin'}).catch(()=>{});const uE=(u===D_U);const d=uE?120:220;setTimeout(()=>{const s=(u===D_U&&p===D_P);a_a(u,p,s);r_a();const n=document.getElementById('notice');if(s){sessionStorage.setItem(T_K,btoa(u+':'+Date.now()));sessionStorage.setItem(U_K,u);n.textContent=atob('TG9naW4gc3VjY2Vzc2Z1bCAtLSByZWRpcmVjdGluZyB0byBBZG1pbiBQYW5lbC4uLg==');n.className='notice success';setTimeout(()=>location.assign('admin/panel.html'),800);}else{n.textContent=atob('SW52YWxpZCBjcmVkZW50aWFscyAtLSBpbnRlcmNlcHQgdGhlIHJlcXVlc3QgYW5kIGluc3BlY3QgQ29va2llOiB1c2VyPS4uLg==');n.className='notice error';}},d);});const cB=document.getElementById('btnClear');if(cB){cB.addEventListener('click',function(){localStorage.removeItem(L_K);r_a();});}}window.s={rA:l_a,cA:()=>{localStorage.removeItem(L_K);},lO:()=>{sessionStorage.removeItem(T_K);sessionStorage.removeItem(U_K);document.cookie='user=; path=/; max-age=0';}};})();

